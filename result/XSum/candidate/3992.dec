ScotRail has reached an in-principle agreement with the RMT union in a dispute over driver-only operated trains . 
