Ayr United climbed off the bottom of the Championship with a hard-fought win at Dunfermline Athletic . 
