An environmental charity has won a legal challenge against the Scottish government's approval of four offshore wind farms . 
