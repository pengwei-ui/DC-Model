ScotRail said it has reached an in-principle agreement with the RMT union to bring to an end a dispute over driver-only operated trains . 
