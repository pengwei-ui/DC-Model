The funeral of an Afghanistan veteran and Green Beret who died after collapsing during the London Marathon has been held in Dunfermline, Fife . 
