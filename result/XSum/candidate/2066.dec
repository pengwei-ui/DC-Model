Alliance Trust Savings has agreed to buy one of Scotland's biggest stockbroking firms from Brewin Dolphin . 
