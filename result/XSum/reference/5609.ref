A man who sparked a drug-fuelled roof-top siege after breaking up with his partner has been given a suspended prison sentence . 
