Plans for a controversial cycle path through Edinburgh have been agreed in principle by city councillors . 
