An agreement has been reached to buy a Shropshire pub which was earmarked for a supermarket . 
